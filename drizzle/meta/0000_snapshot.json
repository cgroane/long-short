{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.user_profiles": {
      "name": "user_profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'base'"
        },
        "alma_mater_team_id": {
          "name": "alma_mater_team_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "alma_mater_custom": {
          "name": "alma_mater_custom",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_user_profiles_email": {
          "name": "idx_user_profiles_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_username": {
          "name": "idx_user_profiles_username",
          "columns": [
            {
              "expression": "username",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fk_alma_mater_team": {
          "name": "fk_alma_mater_team",
          "tableFrom": "user_profiles",
          "tableTo": "teams",
          "schemaTo": "public",
          "columnsFrom": [
            "alma_mater_team_id"
          ],
          "columnsTo": [
            "team_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_profiles_username_key": {
          "columns": [
            "username"
          ],
          "nullsNotDistinct": false,
          "name": "user_profiles_username_key"
        },
        "user_profiles_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "user_profiles_email_key"
        }
      },
      "checkConstraints": {
        "check_alma_mater_one_or_none": {
          "name": "check_alma_mater_one_or_none",
          "value": "alma_mater_team_id IS NOT NULL AND alma_mater_custom IS NULL) OR (alma_mater_team_id IS NULL AND alma_mater_custom IS NOT NULL) OR (alma_mater_team_id IS NULL AND alma_mater_custom IS NULL"
        },
        "user_profiles_role_check": {
          "name": "user_profiles_role_check",
          "value": "CHECK (role::text = ANY(ARRAY['admin'::varchar, 'base'::varchar]::text[]"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.teams": {
      "name": "teams",
      "schema": "",
      "columns": {
        "team_id": {
          "name": "team_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "school": {
          "name": "school",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "mascot": {
          "name": "mascot",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "abbreviation": {
          "name": "abbreviation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "alternate_names": {
          "name": "alternate_names",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "conference": {
          "name": "conference",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "division": {
          "name": "division",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "classification": {
          "name": "classification",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "alternate_color": {
          "name": "alternate_color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "logos": {
          "name": "logos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "twitter": {
          "name": "twitter",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "venue_name": {
          "name": "venue_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "grass": {
          "name": "grass",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "dome": {
          "name": "dome",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_teams_conference": {
          "name": "idx_teams_conference",
          "columns": [
            {
              "expression": "conference",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_teams_school": {
          "name": "idx_teams_school",
          "columns": [
            {
              "expression": "school",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.seasons": {
      "name": "seasons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nominal_year": {
          "name": "nominal_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_year": {
          "name": "start_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "end_year": {
          "name": "end_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "seasons_nominal_year_key": {
          "columns": [
            "nominal_year"
          ],
          "nullsNotDistinct": false,
          "name": "seasons_nominal_year_key"
        },
        "seasons_start_year_key": {
          "columns": [
            "start_year"
          ],
          "nullsNotDistinct": false,
          "name": "seasons_start_year_key"
        },
        "seasons_end_year_key": {
          "columns": [
            "end_year"
          ],
          "nullsNotDistinct": false,
          "name": "seasons_end_year_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.polls": {
      "name": "polls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "poll_id": {
          "name": "poll_id",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "season_id": {
          "name": "season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "week_number": {
          "name": "week_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "poll_date": {
          "name": "poll_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "poll_type": {
          "name": "poll_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'AP'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_polls_season": {
          "name": "idx_polls_season",
          "columns": [
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "week_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "polls_season_id_fkey": {
          "name": "polls_season_id_fkey",
          "tableFrom": "polls",
          "tableTo": "seasons",
          "schemaTo": "public",
          "columnsFrom": [
            "season_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "polls_poll_id_key": {
          "columns": [
            "poll_id"
          ],
          "nullsNotDistinct": false,
          "name": "polls_poll_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.rankings": {
      "name": "rankings",
      "schema": "",
      "columns": {
        "ranking_id": {
          "name": "ranking_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "poll_id": {
          "name": "poll_id",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "first_place_votes": {
          "name": "first_place_votes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "record": {
          "name": "record",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_rankings_poll": {
          "name": "idx_rankings_poll",
          "columns": [
            {
              "expression": "poll_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_rankings_team": {
          "name": "idx_rankings_team",
          "columns": [
            {
              "expression": "team_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rankings_poll_id_fkey": {
          "name": "rankings_poll_id_fkey",
          "tableFrom": "rankings",
          "tableTo": "polls",
          "schemaTo": "public",
          "columnsFrom": [
            "poll_id"
          ],
          "columnsTo": [
            "poll_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rankings_team_id_fkey": {
          "name": "rankings_team_id_fkey",
          "tableFrom": "rankings",
          "tableTo": "teams",
          "schemaTo": "public",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "team_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rankings_poll_id_rank_key": {
          "columns": [
            "poll_id",
            "rank"
          ],
          "nullsNotDistinct": false,
          "name": "rankings_poll_id_rank_key"
        },
        "rankings_poll_id_team_id_key": {
          "columns": [
            "poll_id",
            "team_id"
          ],
          "nullsNotDistinct": false,
          "name": "rankings_poll_id_team_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.picks": {
      "name": "picks",
      "schema": "",
      "columns": {
        "pick_id": {
          "name": "pick_id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "season_id": {
          "name": "season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "prediction_type": {
          "name": "prediction_type",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "starting_rank": {
          "name": "starting_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ending_rank": {
          "name": "ending_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "points_earned": {
          "name": "points_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "picked_at": {
          "name": "picked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "idx_picks_season": {
          "name": "idx_picks_season",
          "columns": [
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_picks_team_season": {
          "name": "idx_picks_team_season",
          "columns": [
            {
              "expression": "team_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_picks_user_season": {
          "name": "idx_picks_user_season",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "picks_user_id_fkey": {
          "name": "picks_user_id_fkey",
          "tableFrom": "picks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "picks_team_id_fkey": {
          "name": "picks_team_id_fkey",
          "tableFrom": "picks",
          "tableTo": "teams",
          "schemaTo": "public",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "team_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "picks_season_id_fkey": {
          "name": "picks_season_id_fkey",
          "tableFrom": "picks",
          "tableTo": "seasons",
          "schemaTo": "public",
          "columnsFrom": [
            "season_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "picks_user_id_season_id_team_id_key": {
          "columns": [
            "user_id",
            "team_id",
            "season_id"
          ],
          "nullsNotDistinct": false,
          "name": "picks_user_id_season_id_team_id_key"
        }
      },
      "checkConstraints": {
        "picks_prediction_type_check": {
          "name": "picks_prediction_type_check",
          "value": "CHECK (prediction_type::text = ANY(ARRAY['IMPROVE'::varchar, 'WORSEN'::varchar]::text[]"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "public.uuid_generate_v7()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created": {
          "name": "created",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "LOCALTIMESTAMP"
        },
        "updated": {
          "name": "updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "LOCALTIMESTAMP"
        },
        "deleted": {
          "name": "deleted",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "compute_id": {
          "name": "compute_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tenants_pkey": {
          "name": "tenants_pkey",
          "columns": [
            {
              "expression": "id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "teams": {
        "columns": {
          "alternate_names": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "logos": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}